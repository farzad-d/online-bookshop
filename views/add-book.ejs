<%- include("partials/header") %>

<div class="container login-register-container mt-5">
  <h2 class="mb-5">Add New Book</h2>

  <% if (typeof success_msg !== 'undefined' && success_msg.length > 0) { %>
  <div class="alert alert-success" role="alert"><%= success_msg %></div>
  <% } %> 
  <% if (typeof error_msg !== 'undefined' && error_msg.length > 0) { %>
  <div class="alert alert-danger" role="alert"><%= error_msg %></div>
  <% } %>

  <form action="/add-book" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label for="image">Book Image</label>
      <input
        type="file"
        class="form-control"
        id="image"
        name="image"
        accept="image/*"
      />
    </div>
    <div class="form-group">
      <label for="imageLink">Or Image Link</label>
      <input
        type="url"
        class="form-control"
        id="imageLink"
        name="imageLink"
        placeholder="http://example.com/image.jpg"
      />
    </div>
    <div class="form-group">
      <label for="title">Title</label>
      <input
        type="text"
        class="form-control"
        id="title"
        name="title"
        required
      />
    </div>
    <div class="form-group">
      <label for="author">Author</label>
      <input
        type="text"
        class="form-control"
        id="author"
        name="author"
        required
      />
    </div>
    <div class="form-group">
      <label for="publisher">Publisher</label>
      <input
        type="text"
        class="form-control"
        id="publisher"
        name="publisher"
        required
      />
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        class="form-control"
        id="description"
        name="description"
        rows="3"
        required
      ></textarea>
    </div>
    <div class="form-group">
      <label for="price">Price (USD)</label>
      <input
        type="text"
        class="form-control"
        id="price"
        name="price"
        required
      />
    </div>
    <div class="form-group">
      <label for="isbn">ISBN</label>
      <input type="text" class="form-control" id="isbn" name="isbn" required />
    </div>
    <div class="form-group">
      <label for="pages">Number of Pages</label>
      <input
        type="number"
        class="form-control"
        id="pages"
        name="pages"
        required
      />
    </div>
    <div class="form-group">
      <label for="categories">Categories</label>
      <div id="categories">
        <% ["Fiction", "Mystery", "Thriller", "Classic", "Romance", "Fantasy",
        "Historical", "Biography", "Bestsellers"].forEach(category => { %>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            value="<%= category %>"
            id="<%= category %>"
            name="categories"
          />
          <label class="form-check-label" for="<%= category %>">
            <%= category %>
          </label>
        </div>
        <% }) %>
      </div>
    </div>
    <button type="submit" class="btn btn-light login-register-btn">
      Add Book
    </button>
  </form>
</div>

<%- include("partials/footer") %>
